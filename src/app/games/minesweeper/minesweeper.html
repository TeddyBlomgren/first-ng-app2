<div class="game">
  <h1 class="game-title">Minesweeper</h1>

  <div class="minesweeper-controls">
    <label
      >SvÃ¥righet:
      <select (change)="setDifficulty($any($event.target).value)">
        <option [value]="Difficulty.Easy">Easy</option>
        <option [value]="Difficulty.Medium">Medium</option>
        <option [value]="Difficulty.Hard">Hard</option>
      </select>
    </label>
    <button (click)="reset()">ðŸ”„ Starta om</button>
  </div>

  <div class="minesweeper-board">
    @for (row of board; let r = $index; track r) {
    <div class="row">
      @for (cell of row; let c = $index; track c) {
      <button
        class="cell"
        [class.revealed]="cell.isRevealed"
        [class.mine]="cell.isRevealed && cell.hasMine"
        [class.flagged]="cell.isFlagged"
        (click)="onLeftClick(r, c)"
        (contextmenu)="onRightClick($event, r, c)"
        aria-label="Ruta {{ r + 1 }}, {{ c + 1 }}"
      >
        @if (cell.isRevealed) {
        {{ cell.hasMine ? 'ðŸ’£' : cell.adjacentMines || '' }}
        } @else {
        {{ cell.isFlagged ? 'ðŸš©' : '' }}
        }
      </button>
      }
    </div>
    }
  </div>
</div>
