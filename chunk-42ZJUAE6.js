import{b as V}from"./chunk-GGDBFXKT.js";import"./chunk-FPPZ4BUR.js";import{$a as N,Fa as m,Ha as M,Ib as P,Kb as c,Ma as k,O as I,T as s,Y as b,Ya as w,Z as E,Za as S,_a as F,a as y,ab as j,b as C,bb as p,cb as n,db as d,fa as D,ib as O,jb as a,la as x,lb as A,sb as l,tb as H,ua as r,y as _,zb as T}from"./chunk-JZR4J7BB.js";var f=class t{http=s(V);getTodosFromApi(){return this.http.get("https://jsonplaceholder.typicode.com/todos")}static \u0275fac=function(e){return new(e||t)};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})};var g=class t{isCompleted=c(!1);el=s(x);styleseffect=P(()=>{this.isCompleted()?(this.el.nativeElement.style.textDecoration="line-through",this.el.nativeElement.style.backgroundColor="#d3f9d8 ",this.el.nativeElement.style.color="#6c757d "):(this.el.nativeElement.style.textDecoration="none",this.el.nativeElement.style.backgroundColor="#fff ",this.el.nativeElement.style.color="#000 ")});static \u0275fac=function(e){return new(e||t)};static \u0275dir=M({type:t,selectors:[["","appHighlightCompletedTodo",""]],inputs:{isCompleted:[1,"isCompleted"]}})};var u=class t{todo=c.required();todoToggled=new k;todoClicked(){this.todoToggled.emit(this.todo())}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=m({type:t,selectors:[["app-todo-item"]],inputs:{todo:[1,"todo"]},outputs:{todoToggled:"todoToggled"},decls:4,vars:7,consts:[["appHighlightCompletedTodo","",1,"todos__item",3,"isCompleted"],["type","checkbox",3,"change","id","checked"],[3,"for"]],template:function(e,i){e&1&&(n(0,"li",0)(1,"input",1),a("change",function(){return i.todoClicked()}),d(),n(2,"label",2),l(3),d()()),e&2&&(p("isCompleted",!!i.todo().completed),r(),p("id",T("todo-",i.todo().id))("checked",i.todo().completed),r(),p("for",T("todo-",i.todo().id)),r(),H(i.todo().title))},dependencies:[g],encapsulation:2})};function R(t,o){t&1&&(n(0,"p"),l(1,"Loading..."),d())}function $(t,o){if(t&1){let e=O();n(0,"app-todo-item",2),a("todoToggled",function(v){b(e);let q=A();return E(q.updateTodoItem(v))}),d()}if(t&2){let e=o.$implicit;p("todo",e)}}var L=class t{todoService=s(f);todoItems=D([]);ngOnInit(){this.todoService.getTodosFromApi().pipe(_(o=>{throw console.log(o),o})).subscribe(o=>{this.todoItems.set(o)})}updateTodoItem(o){this.todoItems.update(e=>e.map(i=>i.id===o.id?C(y({},i),{completed:!i.completed}):i))}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=m({type:t,selectors:[["app-todos"]],decls:6,vars:1,consts:[[1,"todos"],[3,"todo"],[3,"todoToggled","todo"]],template:function(e,i){e&1&&(n(0,"h3"),l(1,"Todos List"),d(),w(2,R,2,0,"p"),n(3,"ul",0),N(4,$,1,1,"app-todo-item",1,F),d()),e&2&&(r(2),S(i.todoItems().length?-1:2),r(2),j(i.todoItems()))},dependencies:[u],styles:[".todos[_ngcontent-%COMP%]   &__item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}"]})};export{L as Todos};
