import{Fa as M,Y as k,Z as C,fb as g,gb as y,hb as S,ib as _,kb as G,nb as R,ob as L,pb as O,sb as u,ua as E,ub as A}from"./chunk-7KW2OLVY.js";var q=["screen"],V=class w{score=0;canvas;startGameFn=null;startGame(){this.startGameFn?.()}ngAfterViewInit(){let a=this.canvas.nativeElement,o=a.clientWidth,i=a.clientHeight,s=window.devicePixelRatio||1;a.width=Math.floor(o*s),a.height=Math.floor(i*s);let r=a.getContext("2d");r.setTransform(s,0,0,s,0,0);let e=20,F=Math.floor(o/e),P=Math.floor(i/e),m=!1,c=250;this.score=0;let n=[{x:e*4,y:0},{x:e*3,y:0},{x:e*2,y:0},{x:e*1,y:0},{x:e*0,y:0}],l=e,f=0,K=null,p=!1,x=0,h=0,b=()=>{do x=Math.floor(Math.random()*F)*e,h=Math.floor(Math.random()*P)*e;while(n.some(t=>t.x===x&&t.y===h))},D=()=>{r.fillStyle="black";for(let t of n)r.fillRect(t.x,t.y,e,e)},T=()=>{r.fillStyle="red",r.fillRect(x,h,e,e)},I=()=>{let t=n[0];if(t.x<0||t.x>=o||t.y<0||t.y>=i){m=!0;return}for(let d=1;d<n.length;d++)if(n[d].x===t.x&&n[d].y===t.y){m=!0;return}},Q=()=>{let t={x:n[0].x+l,y:n[0].y+f};n.unshift(t)},z=t=>{let d=f===-e,W=f===e,N=l===e,j=l===-e;switch(t.key.toLowerCase()){case"a":N||(l=-e,f=0);break;case"d":j||(l=e,f=0);break;case"w":W||(l=0,f=-e);break;case"s":d||(l=0,f=e);break}};window.addEventListener("keydown",z),b();let v=()=>{if(m){p=!1,confirm("Game Over!")&&location.reload();return}I(),r.clearRect(0,0,o,i),r.fillStyle="lightgray",r.fillRect(0,0,o,i),T(),Q(),n[0].x===x&&n[0].y===h?(this.score++,b(),this.score>5&&(c=225),this.score>10&&(c=200),this.score>15&&(c=175),this.score>20&&(c=150),this.score>30&&(c=125),this.score>40&&(c=100)):n.pop(),D(),p&&setTimeout(v,c)},H=()=>{p||(p=!0,n=[{x:80,y:0},{x:60,y:0},{x:40,y:0}],l=e,f=0,this.score=0,m=!1,c=250,v())};this.startGameFn=H}static \u0275fac=function(o){return new(o||w)};static \u0275cmp=M({type:w,selectors:[["app-root"]],viewQuery:function(o,i){if(o&1&&R(q,5),o&2){let s;L(s=O())&&(i.canvas=s.first)}},decls:10,vars:1,consts:[["screen",""],["id","container"],[3,"click"],["id","screen"],["id","score"]],template:function(o,i){if(o&1){let s=_();g(0,"div",1)(1,"h1"),u(2,"Snake Game"),y(),g(3,"div")(4,"button",2),G("click",function(){return k(s),C(i.startGame())}),u(5,"Start Game"),y()(),S(6,"canvas",3,0),g(8,"h2",4),u(9),y()()}o&2&&(E(9),A("Score: ",i.score))},styles:["#container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-start;padding-top:50px;background:linear-gradient(135deg,#e0f7fa,#80deea);font-family:Arial,sans-serif;box-sizing:border-box}h1[_ngcontent-%COMP%]{color:#2e7d32;text-shadow:2px 2px 4px rgba(0,0,0,.3);margin-bottom:20px;font-size:2rem}#screen[_ngcontent-%COMP%]{width:400px;height:400px;border:3px solid #1b5e20;border-radius:12px;background-color:#c8e6c9;box-shadow:0 8px 20px #0003}#score[_ngcontent-%COMP%]{margin-top:15px;font-size:20px;color:#1b5e20;font-weight:700;text-shadow:1px 1px 2px rgba(0,0,0,.2)}"]})};export{V as AppComponent};
