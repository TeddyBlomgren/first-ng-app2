import{i as V,j as N,l as D}from"./chunk-HBUUU6IZ.js";import"./chunk-FPPZ4BUR.js";import{Db as y,Fa as O,Ka as p,O as R,T as C,Ua as A,Va as k,Y as b,Z as w,bb as c,cb as l,db as i,eb as S,ib as x,jb as h,lb as d,qb as I,rb as E,sb as s,ua as u,ub as M,za as P,zb as T}from"./chunk-JZR4J7BB.js";var m=class t{game={board:[[null,null,null,null,null,null,null],[null,null,null,null,null,null,null],[null,null,null,null,null,null,null],[null,null,null,null,null,null,null],[null,null,null,null,null,null,null],[null,null,null,null,null,null,null]],currentPlayer:"R",winner:null};playerNames={R:"Spelare 1",Y:"Spelare 2"};dropDisc(n){if(this.game.winner||n<0||n>=this.game.board[0].length)return!1;for(let e=this.game.board.length-1;e>=0;e--)if(this.game.board[e][n]===null)return this.game.board[e][n]=this.game.currentPlayer,this.checkWinner(e,n),this.game.winner||(this.game.currentPlayer=this.game.currentPlayer==="R"?"Y":"R"),!0;return!1}checkWinner(n,e){let r=[{dr:0,dc:1},{dr:1,dc:0},{dr:1,dc:1},{dr:1,dc:-1}],o=this.game.board[n][e];if(o)for(let{dr:a,dc:F}of r){let v=1;for(let f of[-1,1]){let g=n+a*f,_=e+F*f;for(;g>=0&&g<this.game.board.length&&_>=0&&_<this.game.board[0].length&&this.game.board[g][_]===o;)v++,g+=a*f,_+=F*f}if(v>=4){this.game.winner=o;return}}}resetGame(){this.game={board:[[null,null,null,null,null,null,null],[null,null,null,null,null,null,null],[null,null,null,null,null,null,null],[null,null,null,null,null,null,null],[null,null,null,null,null,null,null],[null,null,null,null,null,null,null]],currentPlayer:"R",winner:null}}isBoardFull(){return this.game.board.every(n=>n.every(e=>e!==null))}static \u0275fac=function(e){return new(e||t)};static \u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})};function Y(t,n){if(t&1){let e=x();l(0,"th")(1,"button",8),h("click",function(){let o=b(e).index,a=d();return w(a.play(o))}),s(2," \u25BC "),i()()}if(t&2){let e=n.index,r=d();u(),A("aria-label",T("Sl\xE4pp bricka i kolumn ",e+1)),c("disabled",r.game.winner||r.isBoardFull())}}function z(t,n){if(t&1){let e=x();l(0,"td",10),h("click",function(){let o=b(e).index,a=d(2);return w(!a.game.winner&&!a.isBoardFull()&&a.play(o))}),S(1,"span",11),i()}if(t&2){let e=n.$implicit;E("r",e==="R")("y",e==="Y"),u(),k("data-cell",e)}}function G(t,n){if(t&1&&(l(0,"tr"),p(1,z,2,5,"td",9),i()),t&2){let e=n.$implicit;u(),c("ngForOf",e)}}function $(t,n){if(t&1&&(l(0,"p"),s(1),i()),t&2){let e=n.ngIf,r=d();u(),M(" ",r.fourInARowService.playerNames[e]," vinner! \u{1F389} ")}}function q(t,n){if(t&1&&(l(0,"p"),s(1),i()),t&2){let e=d(2);u(),M(" N\xE4sta tur: ",e.fourInARowService.playerNames[e.fourInARowService.game.currentPlayer]," ")}}function H(t,n){t&1&&(l(0,"p"),s(1,"Oavgjort!"),i())}function J(t,n){if(t&1&&p(0,q,2,1,"p",6)(1,H,2,0,"ng-template",null,1,y),t&2){let e=I(2),r=d();c("ngIf",!r.isBoardFull())("ngIfElse",e)}}var j=class t{constructor(n){this.fourInARowService=n}four=C(m);get game(){return this.four.game}play(n){this.fourInARowService.dropDisc(n)}reset(){this.fourInARowService.resetGame()}isBoardFull(){return this.game.board.every(n=>n.every(e=>e!==null))}static \u0275fac=function(e){return new(e||t)(P(m))};static \u0275cmp=O({type:t,selectors:[["app-four-in-a-row"]],decls:15,vars:4,consts:[["noWinner",""],["draw",""],[1,"four-in-a-row-container"],["aria-label","Fyra i rad-br\xE4de",1,"four-in-a-row"],[4,"ngFor","ngForOf"],["aria-live","polite",1,"status"],[4,"ngIf","ngIfElse"],["type","button",3,"click"],["type","button",3,"click","disabled","aria-label"],[3,"r","y","click",4,"ngFor","ngForOf"],[3,"click"],[1,"disc"]],template:function(e,r){if(e&1){let o=x();l(0,"div",2)(1,"h1"),s(2,"Fyra i rad"),i(),l(3,"table",3)(4,"thead")(5,"tr"),p(6,Y,3,3,"th",4),i()(),l(7,"tbody"),p(8,G,2,1,"tr",4),i()(),l(9,"div",5),p(10,$,2,1,"p",6)(11,J,3,2,"ng-template",null,0,y),l(13,"button",7),h("click",function(){return b(o),w(r.reset())}),s(14,"Starta om spel"),i()()()}if(e&2){let o=I(12);u(6),c("ngForOf",r.game.board[0]),u(2),c("ngForOf",r.game.board),u(2),c("ngIf",r.game.winner)("ngIfElse",o)}},dependencies:[D,V,N],styles:[".four-in-a-row-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:60vh}.four-in-a-row[_ngcontent-%COMP%]{border-collapse:collapse;margin:24px 0;background:#f8fafc;border-radius:16px;box-shadow:0 4px 24px #0000001a;overflow:hidden}.four-in-a-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .four-in-a-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:48px;height:48px;text-align:center}.four-in-a-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#e9f0f7;border:1px solid #cdd6e0;cursor:pointer;transition:background .2s}.four-in-a-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:hover{background:#dbeafe}.four-in-a-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;background:#2563eb;color:#fff;border:none;border-radius:6px;padding:6px 12px;font-size:1rem;transition:background .2s}.four-in-a-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#1d4ed8}.disc[_ngcontent-%COMP%]{display:inline-block;width:34px;height:34px;border-radius:50%;background:transparent;box-shadow:0 2px 6px #00000014}td.r[_ngcontent-%COMP%]   .disc[_ngcontent-%COMP%]{background:#d33;box-shadow:0 2px 8px #dc262626}td.y[_ngcontent-%COMP%]   .disc[_ngcontent-%COMP%]{background:#fc3;box-shadow:0 2px 8px #fbbf2426}.status[_ngcontent-%COMP%]{margin-top:16px;font-weight:600;font-size:1.1rem;color:#2563eb;text-align:center}"]})};export{j as FourInARowModel};
