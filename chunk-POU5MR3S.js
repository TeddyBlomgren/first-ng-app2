import{b as D,e as R,g as I,h as w,i as L,j as T}from"./chunk-SMG6H2SE.js";import"./chunk-S2FDXCC5.js";import"./chunk-FPPZ4BUR.js";import{Cb as a,Db as E,Ea as _,Eb as h,Gb as P,Hb as k,Ib as F,La as v,S as y,aa as g,ba as C,cb as u,db as f,fb as x,gb as M,hb as b,jb as r,kb as o,qb as S,sb as c,ub as m,za as l}from"./chunk-QCNNDH25.js";var p=class n{cards=[];flippedCards=[];matchedCards=[];moves=0;pairsFound=0;totalPairs=0;gameWon=!1;isResolving=!1;PAIRS_BY_LEVEL={easy:["\u{1F352}","\u{1F347}","\u{1F34D}","\u{1F353}"],medium:["\u{1F352}","\u{1F347}","\u{1F34D}","\u{1F353}","\u{1F34E}","\u{1F34C}"],hard:["\u{1F352}","\u{1F347}","\u{1F34D}","\u{1F353}","\u{1F34E}","\u{1F34C}","\u{1F95D}","\u{1F349}"]};selectedPairs=this.PAIRS_BY_LEVEL.easy;constructor(){this.resetGame()}buildDeck(e){let t=[...e,...e];for(let i=t.length-1;i>0;i--){let s=Math.floor(Math.random()*(i+1));[t[i],t[s]]=[t[s],t[i]]}return t}setDifficulty(e){this.selectedPairs=this.PAIRS_BY_LEVEL[e],this.resetGame()}initGame(){this.cards=this.buildDeck(this.selectedPairs),this.totalPairs=this.selectedPairs.length}resetGame(){this.initGame(),this.flippedCards=[],this.matchedCards=[],this.moves=0,this.pairsFound=0,this.gameWon=!1,this.isResolving=!1}canFlip(e){return!this.isResolving&&this.flippedCards.length<2&&!this.flippedCards.includes(e)&&!this.matchedCards.includes(e)}handleCard(e){if(this.canFlip(e)&&(this.flippedCards=[...this.flippedCards,e],this.flippedCards.length===2)){this.isResolving=!0,this.moves++;let[t,i]=this.flippedCards;this.cards[t]===this.cards[i]?(this.matchedCards=[...this.matchedCards,t,i],this.pairsFound++,this.flippedCards=[],this.isResolving=!1,this.pairsFound===this.totalPairs&&(this.gameWon=!0)):setTimeout(()=>{this.flippedCards=[],this.isResolving=!1},800)}}isFlipped(e){return this.flippedCards.includes(e)||this.matchedCards.includes(e)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=y({token:n,factory:n.\u0275fac,providedIn:"root"})};function V(n,e){if(n&1&&(r(0,"p"),a(1),o()),n&2){let t=m();l(),h("\u{1F389} Du vann p\xE5 ",t.memory.moves," drag!")}}function W(n,e){if(n&1&&(r(0,"span"),a(1),o()),n&2){let t=m().$implicit;l(),E(t)}}function j(n,e){n&1&&a(0," \u2753 ")}function N(n,e){if(n&1){let t=S();r(0,"button",9),c("click",function(){let s=g(t).$index,d=m();return C(d.onCardClick(s))}),u(1,W,2,1,"span")(2,j,1,0),o()}if(n&2){let t=e.$index,i=m();l(),f(i.memory.isFlipped(t)?1:2)}}var O=class n{constructor(e){this.memory=e}difficulty="easy";pairsByDiff={easy:4,medium:6,hard:8};onCardClick(e){this.memory.handleCard(e)}onReset(){this.memory.resetGame()}setDifficulty(e){this.difficulty=e,this.memory.totalPairs=this.pairsByDiff[e],this.onReset()}static \u0275fac=function(t){return new(t||n)(_(p))};static \u0275cmp=v({type:n,selectors:[["app-memory"]],decls:21,vars:3,consts:[[1,"memory-wrapper"],[1,"memory-header"],[3,"ngModelChange","ngModel"],["value","easy"],["value","medium"],["value","hard"],[3,"click"],[1,"board"],[1,"card"],[1,"card",3,"click"]],template:function(t,i){t&1&&(r(0,"div",0)(1,"div",1)(2,"h1"),a(3,"Memory Game"),o(),r(4,"p"),a(5),o(),u(6,V,2,1,"p"),r(7,"label"),a(8," Sv\xE5righet: "),r(9,"select",2),F("ngModelChange",function(d){return k(i.difficulty,d)||(i.difficulty=d),d}),c("ngModelChange",function(d){return i.memory.setDifficulty(d)}),r(10,"option",3),a(11,"L\xE4tt (4 par)"),o(),r(12,"option",4),a(13,"Medel (6 par)"),o(),r(14,"option",5),a(15,"Sv\xE5r (8 par)"),o()()(),r(16,"button",6),c("click",function(){return i.onReset()}),a(17,"Starta om"),o()(),r(18,"div",7),M(19,N,3,1,"button",8,x),o()()),t&2&&(l(5),h("Drag: ",i.memory.moves),l(),f(i.memory.gameWon?6:-1),l(3),P("ngModel",i.difficulty),l(10),b(i.memory.cards))},dependencies:[T,w,L,I,D,R],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;font-family:system-ui,sans-serif}.board[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,80px);gap:12px;padding:20px;background:#fff;border-radius:12px;box-shadow:0 6px 16px #0000001a}.card[_ngcontent-%COMP%]{width:80px;height:80px;border:none;border-radius:8px;background:#ddd;font-size:2rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background .2s ease}.card[_ngcontent-%COMP%]:hover{background:#ccc}button[_ngcontent-%COMP%]{cursor:pointer}.memory-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:12px}.memory-header[_ngcontent-%COMP%]{text-align:center}"]})};export{O as MemoryComponent};
