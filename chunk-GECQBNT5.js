import{i as k,j as F,l as I}from"./chunk-GYORGMM7.js";import"./chunk-FPPZ4BUR.js";import{Fa as y,Gb as M,Ka as d,O as h,Y as g,Z as C,bb as p,cb as s,db as a,kb as b,lb as f,nb as m,sb as v,ua as o,ub as c,vb as x,wb as u,za as _}from"./chunk-A7UPANQH.js";var l=class i{cards=[];flippedCards=[];matchedCards=[];moves=0;pairsFound=0;totalPairs=0;gameWon=!1;isResolving=!1;constructor(){this.resetGame()}buildDeck(e){let t=[...e,...e];for(let n=t.length-1;n>0;n--){let r=Math.floor(Math.random()*(n+1));[t[n],t[r]]=[t[r],t[n]]}return t}initGame(){let e=["\u{1F352}","\u{1F347}","\u{1F34D}","\u{1F353}","\u{1F34E}","\u{1F34C}"];this.cards=this.buildDeck(e),this.totalPairs=e.length}resetGame(){this.initGame(),this.flippedCards=[],this.matchedCards=[],this.moves=0,this.pairsFound=0,this.gameWon=!1,this.isResolving=!1}canFlip(e){return!this.isResolving&&this.flippedCards.length<2&&!this.flippedCards.includes(e)&&!this.matchedCards.includes(e)}handleCard(e){if(this.canFlip(e)&&(this.flippedCards=[...this.flippedCards,e],this.flippedCards.length===2)){this.isResolving=!0,this.moves++;let[t,n]=this.flippedCards;this.cards[t]===this.cards[n]?(this.matchedCards=[...this.matchedCards,t,n],this.pairsFound++,this.flippedCards=[],this.isResolving=!1,this.pairsFound===this.totalPairs&&(this.gameWon=!0)):setTimeout(()=>{this.flippedCards=[],this.isResolving=!1},800)}}isFlipped(e){return this.flippedCards.includes(e)||this.matchedCards.includes(e)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=h({token:i,factory:i.\u0275fac,providedIn:"root"})};function O(i,e){if(i&1&&(s(0,"span"),c(1),a()),i&2){let t=m().$implicit;o(),x(t)}}function R(i,e){i&1&&c(0,"\u2753")}function T(i,e){if(i&1){let t=b();s(0,"button",5),f("click",function(){let r=g(t).index,P=m();return C(P.onCardClick(r))}),d(1,O,2,1,"span",6)(2,R,1,0,"ng-template",null,0,M),a()}if(i&2){let t=e.index,n=v(3),r=m();o(),p("ngIf",r.memory.isFlipped(t))("ngIfElse",n)}}function w(i,e){if(i&1&&(s(0,"p"),c(1),a()),i&2){let t=m();o(),u("\u{1F389} Du vann p\xE5 ",t.memory.moves," drag!")}}var E=class i{constructor(e){this.memory=e}onCardClick(e){this.memory.handleCard(e)}onReset(){this.memory.resetGame()}static \u0275fac=function(t){return new(t||i)(_(l))};static \u0275cmp=y({type:i,selectors:[["app-memory"]],decls:7,vars:3,consts:[["hidden",""],[1,"board"],["class","card",3,"click",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"click"],[1,"card",3,"click"],[4,"ngIf","ngIfElse"]],template:function(t,n){t&1&&(s(0,"div",1),d(1,T,4,2,"button",2),a(),s(2,"p"),c(3),a(),d(4,w,2,1,"p",3),s(5,"button",4),f("click",function(){return n.onReset()}),c(6,"Starta om"),a()),t&2&&(o(),p("ngForOf",n.memory.cards),o(2),u("Drag: ",n.memory.moves),o(),p("ngIf",n.memory.gameWon))},dependencies:[I,k,F],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background:#f5f5f5;font-family:system-ui,sans-serif}.board[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,80px);gap:12px;padding:20px;background:#fff;border-radius:12px;box-shadow:0 6px 16px #0000001a}.card[_ngcontent-%COMP%]{width:80px;height:80px;border:none;border-radius:8px;background:#ddd;font-size:2rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background .2s ease}.card[_ngcontent-%COMP%]:hover{background:#ccc}p[_ngcontent-%COMP%]{text-align:center;margin-top:16px;font-size:18px}button[_ngcontent-%COMP%]{cursor:pointer}"]})};export{E as MemoryComponent};
