import{Fa as M,Y as v,Z as k,fb as a,gb as l,hb as S,ib as _,kb as O,nb as G,ob as R,pb as P,sb as c,ua as C,ub as A}from"./chunk-JZR4J7BB.js";var N=["screen"],L=class b{score=0;canvas;startGameFn=null;startGame(){this.startGameFn?.()}ngAfterViewInit(){let d=this.canvas.nativeElement,n=d.clientWidth,i=d.clientHeight,r=window.devicePixelRatio||1;d.width=Math.floor(n*r),d.height=Math.floor(i*r);let s=d.getContext("2d");s.setTransform(r,0,0,r,0,0);let e=20,V=Math.floor(n/e),D=Math.floor(i/e),g=!1,m=250;this.score=0;let o=[{x:e*4,y:0},{x:e*3,y:0},{x:e*2,y:0},{x:e*1,y:0},{x:e*0,y:0}],f=e,p=0,q=null,h=!1,y=0,u=0,w=()=>{do y=Math.floor(Math.random()*V)*e,u=Math.floor(Math.random()*D)*e;while(o.some(t=>t.x===y&&t.y===u))},F=()=>{s.fillStyle="black";for(let t of o)s.fillRect(t.x,t.y,e,e)},T=()=>{s.fillStyle="red",s.fillRect(y,u,e,e)},z=()=>{let t=o[0];if(t.x<0||t.x>=n||t.y<0||t.y>=i){g=!0;return}for(let x=1;x<o.length;x++)if(o[x].x===t.x&&o[x].y===t.y){g=!0;return}},I=()=>{let t={x:o[0].x+f,y:o[0].y+p};o.unshift(t)},Q=t=>{let x=p===-e,H=p===e,j=f===e,K=f===-e;switch(t.key.toLowerCase()){case"a":j||(f=-e,p=0);break;case"d":K||(f=e,p=0);break;case"w":H||(f=0,p=-e);break;case"s":x||(f=0,p=e);break}};window.addEventListener("keydown",Q),w();let E=()=>{if(g){h=!1,confirm("Game Over!")&&location.reload();return}z(),s.clearRect(0,0,n,i),s.fillStyle="lightgray",s.fillRect(0,0,n,i),T(),I(),o[0].x===y&&o[0].y===u?(this.score++,w(),this.score>5&&(m=225),this.score>10&&(m=200),this.score>15&&(m=175),this.score>20&&(m=150),this.score>30&&(m=125),this.score>40&&(m=100)):o.pop(),F(),h&&setTimeout(E,m)},W=()=>{h||(h=!0,o=[{x:80,y:0},{x:60,y:0},{x:40,y:0}],f=e,p=0,this.score=0,g=!1,m=250,E())};this.startGameFn=W}static \u0275fac=function(n){return new(n||b)};static \u0275cmp=M({type:b,selectors:[["app-root"]],viewQuery:function(n,i){if(n&1&&G(N,5),n&2){let r;R(r=P())&&(i.canvas=r.first)}},decls:25,vars:1,consts:[["screen",""],["id","container"],[1,"controls"],[1,"keys"],[1,"row"],[1,"key"],[3,"click"],["id","screen"],["id","score"]],template:function(n,i){if(n&1){let r=_();a(0,"div",1)(1,"h1"),c(2,"Snake Game"),l(),a(3,"div",2)(4,"p")(5,"b"),c(6,"Kontroller:"),l()(),a(7,"div",3)(8,"div",4)(9,"span",5),c(10,"W"),l()(),a(11,"div",4)(12,"span",5),c(13,"A"),l(),a(14,"span",5),c(15,"S"),l(),a(16,"span",5),c(17,"D"),l()()()(),a(18,"div")(19,"button",6),O("click",function(){return v(r),k(i.startGame())}),c(20,"Start Game"),l()(),S(21,"canvas",7,0),a(23,"h2",8),c(24),l()()}n&2&&(C(24),A("Score: ",i.score))},styles:["#container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-start;padding-top:50px;background:linear-gradient(135deg,#e0f7fa,#80deea);font-family:Arial,sans-serif;box-sizing:border-box}h1[_ngcontent-%COMP%]{color:#2e7d32;text-shadow:2px 2px 4px rgba(0,0,0,.3);margin-bottom:20px;font-size:2rem}#screen[_ngcontent-%COMP%]{width:400px;height:400px;border:3px solid #1b5e20;border-radius:12px;background-color:#c8e6c9;box-shadow:0 8px 20px #0003}#score[_ngcontent-%COMP%]{margin-top:15px;font-size:20px;color:#1b5e20;font-weight:700;text-shadow:1px 1px 2px rgba(0,0,0,.2)}.controls[_ngcontent-%COMP%]{margin-top:15px;text-align:center;font-family:Arial,sans-serif;color:#2e7d32}.keys[_ngcontent-%COMP%]{display:inline-block}.row[_ngcontent-%COMP%]{display:flex;justify-content:center}.key[_ngcontent-%COMP%]{display:inline-block;margin:5px;padding:10px 14px;border:2px solid #2e7d32;border-radius:6px;background:#f9f9f9;box-shadow:0 3px #2e7d32,0 3px 6px #0000004d;font-weight:700;font-size:16px;min-width:36px;text-align:center;cursor:default;-webkit-user-select:none;user-select:none}"]})};export{L as AppComponent};
