<div class="four-in-a-row-container">
  <h1>Fyra i rad</h1>

  <table class="four-in-a-row" aria-label="Fyra i rad-brÃ¤de">
    <thead>
      <tr>
        @for (_ of game.board[0]; track _; let c = $index) {
          <th>
            <button type="button"
              (click)="play(c)"
              [disabled]="game.winner || isBoardFull()"
              aria-label="SlÃ¤pp bricka i kolumn {{ c + 1 }}">
              â–¼
            </button>
          </th>
        }
      </tr>
    </thead>

    <tbody>
      @for (row of game.board; track row; let r = $index) {
        <tr>
          @for (cell of row; track cell; let c = $index) {
            <td
              (click)="!game.winner && !isBoardFull() && play(c)"
              [class.r]="cell === 'R'"
              [class.y]="cell === 'Y'">
              <span class="disc" [attr.data-cell]="cell"></span>
            </td>
          }
        </tr>
      }
    </tbody>
  </table>

  <div class="status" aria-live="polite">
    @if (game.winner; as w) {
      <p>
        {{ fourInARowService.playerNames[w] }} vinner! ðŸŽ‰
      </p>
    } @else {
      @if (!isBoardFull()) {
        <p>
          NÃ¤sta tur: {{ fourInARowService.playerNames[fourInARowService.game.currentPlayer] }}
        </p>
      } @else {
        <p>Oavgjort!</p>
      }
    }


    <button type="button" (click)="reset()">Starta om spel</button>
  </div>
</div>
