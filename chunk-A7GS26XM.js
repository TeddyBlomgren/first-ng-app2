import{a as u}from"./chunk-34JBJECI.js";import{a as j,b as T,e as z,j as A}from"./chunk-TUOQGTFP.js";import{a as W,b as D}from"./chunk-GGDBFXKT.js";import{j as k,k as O,l as E}from"./chunk-HBUUU6IZ.js";import"./chunk-FPPZ4BUR.js";import{Bb as P,Cb as S,Fa as _,Ka as b,O as x,S as w,bb as d,cb as o,db as i,jb as h,lb as f,sb as a,tb as m,ua as r,ub as s,vb as v,wb as y,xb as M,yb as I,za as C}from"./chunk-JZR4J7BB.js";var l=class t{constructor(n){this.http=n}apiUrl="https://api.openweathermap.org/data/2.5";headers=new W({"X-Api-Key":u.weatherapiKey});getWeather(n){return this.http.get(`${this.apiUrl}/weather`,{params:{q:n,appid:u.weatherapiKey,units:"metric",lang:"sv"}})}static \u0275fac=function(e){return new(e||t)(w(D))};static \u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})};function K(t,n){if(t&1&&(o(0,"div")(1,"h3"),a(2),i(),o(3,"p"),a(4),P(5,"titlecase"),i(),o(6,"p"),a(7),i(),o(8,"small"),a(9),i(),o(10,"p"),a(11),i(),o(12,"p"),a(13),i()()),t&2){let e=f();r(2),m(e.weather.name),r(2),m(S(5,7,e.weather.weather[0].description)),r(3),s("\u{1F321}\uFE0F ",e.weather.main.temp," \xB0C"),r(2),v(" Min: ",e.weather.main.temp_min," \xB0C | Max: ",e.weather.main.temp_max," \xB0C "),r(2),s("\u{1F4A7} Luftfuktighet: ",e.weather.main.humidity," %"),r(2),s("\u{1F4A8} Vind: ",e.weather.wind.speed," m/s")}}function N(t,n){if(t&1&&(o(0,"p",5),a(1),i()),t&2){let e=f();r(),m(e.error)}}var F=class t{constructor(n){this.api=n}city="";weather=null;error="";search(){if(!this.city.trim()){this.error="Ange en stad.",this.weather=null;return}this.api.getWeather(this.city.trim()).subscribe({next:n=>{this.weather=n,this.error=""},error:n=>{this.error="Kunde inte h\xE4mta v\xE4derdata. Kontrollera stadens namn.",this.weather=null}})}static \u0275fac=function(e){return new(e||t)(C(l))};static \u0275cmp=_({type:t,selectors:[["app-weather"]],decls:7,vars:3,consts:[[1,"weather-container"],["placeholder","Skriv stadens namn",3,"ngModelChange","keyup.enter","ngModel"],[3,"click"],[4,"ngIf"],["class","error",4,"ngIf"],[1,"error"]],template:function(e,p){e&1&&(o(0,"div",0)(1,"div")(2,"input",1),I("ngModelChange",function(c){return M(p.city,c)||(p.city=c),c}),h("keyup.enter",function(){return p.search()}),i(),o(3,"button",2),h("click",function(){return p.search()}),a(4,"H\xE4mta v\xE4der"),i()(),b(5,K,14,9,"div",3)(6,N,2,1,"p",4),i()),e&2&&(r(2),y("ngModel",p.city),r(3),d("ngIf",p.weather),r(),d("ngIf",p.error))},dependencies:[E,k,A,j,T,z,O],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:flex-start;min-height:100vh;background:linear-gradient(to top,#87ceeb,#fff);font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;padding:2rem;box-sizing:border-box}.weather-container[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 8px 24px #0000001a;padding:24px;max-width:400px;width:100%;text-align:center}.weather-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.8rem;color:#333}.weather-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:6px 0;font-size:1rem;color:#444}.weather-container[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;margin-top:4px;font-size:.85rem;color:#666}input[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid #ccc;border-radius:8px;font-size:1rem;margin-bottom:12px;width:calc(100% - 24px);outline:none;transition:border .2s}input[_ngcontent-%COMP%]:focus{border:1px solid #0077ff}button[_ngcontent-%COMP%]{background:#07f;color:#fff;border:none;border-radius:8px;padding:10px 16px;font-size:1rem;cursor:pointer;transition:background .2s;margin-left:8px}button[_ngcontent-%COMP%]:hover{background:#005fcc}.error[_ngcontent-%COMP%]{margin-top:12px;color:#b00020;font-weight:700}"]})};export{F as weatherComponent};
