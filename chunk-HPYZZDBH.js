import{Bb as T,Cb as d,Ea as A,Eb as I,Jb as B,La as M,S as P,X as k,_a as h,aa as x,ba as C,cb as y,db as v,fb as _,gb as g,hb as b,mb as o,nb as i,ob as S,qb as F,rb as O,tb as w,ub as c,za as a}from"./chunk-QCNNDH25.js";var m=class t{game={board:[[null,null,null,null,null,null,null],[null,null,null,null,null,null,null],[null,null,null,null,null,null,null],[null,null,null,null,null,null,null],[null,null,null,null,null,null,null],[null,null,null,null,null,null,null]],currentPlayer:"R",winner:null};playerNames={R:"Spelare 1",Y:"Spelare 2"};dropDisc(e){if(this.game.winner||e<0||e>=this.game.board[0].length)return!1;for(let n=this.game.board.length-1;n>=0;n--)if(this.game.board[n][e]===null)return this.game.board[n][e]=this.game.currentPlayer,this.checkWinner(n,e),this.game.winner||(this.game.currentPlayer=this.game.currentPlayer==="R"?"Y":"R"),!0;return!1}checkWinner(e,n){let r=[{dr:0,dc:1},{dr:1,dc:0},{dr:1,dc:1},{dr:1,dc:-1}],l=this.game.board[e][n];if(l)for(let{dr:u,dc:R}of r){let E=1;for(let s of[-1,1]){let p=e+u*s,f=n+R*s;for(;p>=0&&p<this.game.board.length&&f>=0&&f<this.game.board[0].length&&this.game.board[p][f]===l;)E++,p+=u*s,f+=R*s}if(E>=4){this.game.winner=l;return}}}resetGame(){this.game={board:[[null,null,null,null,null,null,null],[null,null,null,null,null,null,null],[null,null,null,null,null,null,null],[null,null,null,null,null,null,null],[null,null,null,null,null,null,null],[null,null,null,null,null,null,null]],currentPlayer:"R",winner:null}}isBoardFull(){return this.game.board.every(e=>e.every(n=>n!==null))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})};function N(t,e){if(t&1){let n=F();o(0,"th")(1,"button",4),w("click",function(){let l=x(n).$index,u=c();return C(u.play(l))}),d(2," \u25BC "),i()()}if(t&2){let n=e.$index,r=c();a(),h("aria-label",B("Sl\xE4pp bricka i kolumn ",n+1)),O("disabled",r.game.winner||r.isBoardFull())}}function V(t,e){if(t&1){let n=F();o(0,"td",6),w("click",function(){let l=x(n).$index,u=c(2);return C(!u.game.winner&&!u.isBoardFull()&&u.play(l))}),S(1,"span",7),i()}if(t&2){let n=e.$implicit;T("r",n==="R")("y",n==="Y"),a(),h("data-cell",n)}}function Y(t,e){if(t&1&&(o(0,"tr"),g(1,V,2,5,"td",5,_),i()),t&2){let n=e.$implicit;a(),b(n)}}function L(t,e){if(t&1&&(o(0,"p"),d(1),i()),t&2){let n=c();a(),I(" ",n.fourInARowService.playerNames[e]," vinner! \u{1F389} ")}}function z(t,e){if(t&1&&(o(0,"p"),d(1),i()),t&2){let n=c(2);a(),I(" N\xE4sta tur: ",n.fourInARowService.playerNames[n.fourInARowService.game.currentPlayer]," ")}}function G(t,e){t&1&&(o(0,"p"),d(1,"Oavgjort!"),i())}function W(t,e){if(t&1&&y(0,z,2,1,"p")(1,G,2,0,"p"),t&2){let n=c();v(n.isBoardFull()?1:0)}}var $=class t{constructor(e){this.fourInARowService=e}four=k(m);get game(){return this.four.game}play(e){this.fourInARowService.dropDisc(e)}reset(){this.fourInARowService.resetGame()}isBoardFull(){return this.game.board.every(e=>e.every(n=>n!==null))}static \u0275fac=function(n){return new(n||t)(A(m))};static \u0275cmp=M({type:t,selectors:[["app-four-in-a-row"]],decls:16,vars:1,consts:[[1,"four-in-a-row-container"],["aria-label","Fyra i rad-br\xE4de",1,"four-in-a-row"],["aria-live","polite",1,"status"],["type","button",3,"click"],["type","button",3,"click","disabled","aria-label"],[3,"r","y"],[3,"click"],[1,"disc"]],template:function(n,r){if(n&1&&(o(0,"div",0)(1,"h1"),d(2,"Fyra i rad"),i(),o(3,"table",1)(4,"thead")(5,"tr"),g(6,N,3,3,"th",null,_),i()(),o(8,"tbody"),g(9,Y,3,0,"tr",null,_),i()(),o(11,"div",2),y(12,L,2,1,"p")(13,W,2,1),o(14,"button",3),w("click",function(){return r.reset()}),d(15,"Starta om spel"),i()()()),n&2){let l;a(6),b(r.game.board[0]),a(3),b(r.game.board),a(3),v((l=r.game.winner)?12:13,l)}},styles:[".four-in-a-row-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:60vh}.four-in-a-row[_ngcontent-%COMP%]{border-collapse:collapse;margin:24px 0;background:#f8fafc;border-radius:16px;box-shadow:0 4px 24px #0000001a;overflow:hidden}.four-in-a-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .four-in-a-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:48px;height:48px;text-align:center}.four-in-a-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#e9f0f7;border:1px solid #cdd6e0;cursor:pointer;transition:background .2s}.four-in-a-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:hover{background:#dbeafe}.four-in-a-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;background:#2563eb;color:#fff;border:none;border-radius:6px;padding:6px 12px;font-size:1rem;transition:background .2s}.four-in-a-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#1d4ed8}.disc[_ngcontent-%COMP%]{display:inline-block;width:34px;height:34px;border-radius:50%;background:transparent;box-shadow:0 2px 6px #00000014}td.r[_ngcontent-%COMP%]   .disc[_ngcontent-%COMP%]{background:#d33;box-shadow:0 2px 8px #dc262626}td.y[_ngcontent-%COMP%]   .disc[_ngcontent-%COMP%]{background:#fc3;box-shadow:0 2px 8px #fbbf2426}.status[_ngcontent-%COMP%]{margin-top:16px;font-weight:600;font-size:1.1rem;color:#2563eb;text-align:center}"]})};export{$ as FourInARowComponent};
